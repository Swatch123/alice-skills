// ƒл€ асинхронной работы используетс€ пакет micro.
const { json } =  require ( ' micro ' );

// «апуск асинхронного сервиса.
модуль . exports  =  async ( req , res ) => {

    // »з запроса извлекаютс€ свойства запроса, сессии и версии.
    const { запрос , сесси€ , верси€ } =  await  json (req);

    // ¬ теле ответа вставл€ютс€ свойства верси€ и сесси€ из запроса.
    // ѕодробнее о формате запроса и ответа - в разделе ѕротокол работы навыка.
    рез . конец ( JSON . stringify (
        {
            верси€,
            сесси€,
            ответ : {
                // ¬ свойстве response.text возвращаетс€ исходна€ реплика пользовател€.
                // ≈сли навык был активирован без дополнительной команды,
                // пользователю нужно сказать "Hello!"
                текст :  запрос . original_utterance  ||  Ђ ѕривет! ' ,

                // —войство response.end_session возвращаетс€ со значением false,
                // чтобы диалог не завершилс€.
                end_session :  ложь ,
            },
        }
    ));
};